<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:padding="24dp"
    android:id="@+id/main"
    android:gravity="center"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/backgroundColor">

    <TextView
        android:id="@+id/textViewTitle"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Kalkulator Napiwków"
        android:textSize="28sp"
        android:textColor="@color/colorSecondary"
        android:textStyle="bold"
        android:fontFamily="sans-serif-black"
        android:shadowColor="#80000000"
        android:paddingBottom="24dp"
        android:layout_gravity="center_horizontal"/>

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Kwota rachunku (zł):"
        android:textColor="@color/textColorPrimary"
        android:textSize="16sp"
        android:paddingBottom="4dp"/>

    <EditText
        android:id="@+id/Cena"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:inputType="numberDecimal"
        android:hint="Wprowadź kwotę"
        android:padding="12dp"/>

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Wybierz procent napiwku:"
        android:textColor="@color/colorSecondary"
        android:textSize="16sp"
        android:paddingTop="16dp"
        android:paddingBottom="4dp"/>

    <RadioGroup
        android:id="@+id/radioGroupTip"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:orientation="horizontal">

        <RadioButton
            android:id="@+id/radio15"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="15%"
            android:checked="false"/>

        <RadioButton
            android:id="@+id/radio20"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="20%"
            android:checked="true"/>

        <RadioButton
            android:id="@+id/radio25"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="25%"
            android:checked="false"/>
    </RadioGroup>

    <EditText
        android:id="@+id/customTip"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:hint="Własny procent (%)"
        android:inputType="numberDecimal"
        android:padding="12dp"
        android:layout_marginTop="8dp"/>

    <Switch
        android:id="@+id/switchRoundUp"
        android:text="Zaokrąglij w górę"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"/>

    <EditText
        android:id="@+id/editTextLiczbaOsob"
        android:inputType="number"
        android:hint="Liczba osób"
        android:layout_height="wrap_content"
        android:layout_width="match_parent"
        android:padding="12dp"
        android:layout_marginTop="8dp"/>

    <TextView
        android:id="@+id/textViewPerPerson"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Kwota na osobę: 0.00 zł"
        android:textColor="@color/textColorPrimary"
        android:textSize="20sp"
        android:textStyle="bold"
        android:layout_gravity="center_horizontal"
        android:paddingTop="12dp"/>

    <TextView
        android:id="@+id/textViewTipResult"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Kwota napiwku: 0.00 zł"
        android:textColor="@color/colorSecondary"
        android:textSize="20sp"
        android:textStyle="bold"
        android:layout_gravity="center_horizontal"
        android:paddingTop="32dp"/>

    <TextView
        android:id="@+id/textViewTotalResult"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Łączna kwota: 0.00 zł"
        android:textColor="@color/textColorPrimary"
        android:textSize="20sp"
        android:textStyle="bold"
        android:layout_gravity="center_horizontal"
        android:paddingTop="12dp"/>

</LinearLayout>


--------------------java-------------------------------------
package com.example.projekt;

import android.graphics.Color;
import android.os.Bundle;
import android.text.Editable;
import android.text.TextWatcher;
import android.view.View;
import android.widget.EditText;
import android.widget.RadioButton;
import android.widget.RadioGroup;
import android.widget.Switch;
import android.widget.TextView;
import android.widget.Toast;

import androidx.appcompat.app.AppCompatActivity;
import androidx.core.graphics.Insets;
import androidx.core.view.ViewCompat;
import androidx.core.view.WindowInsetsCompat;

public class MainActivity extends AppCompatActivity {

    private EditText poleKwota, customTip, poleLiczbaOsob;
    private TextView wynikNapiwek, wynikCalkowity, wynikNaOsobe;
    private RadioButton fifteen, twenty, twentyFive;
    private RadioGroup radioGroupTip;
    private Switch switchRoundUp;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        // Inicjalizacja widoków
        poleKwota = findViewById(R.id.Cena);
        customTip = findViewById(R.id.customTip);
        poleLiczbaOsob = findViewById(R.id.editTextLiczbaOsob);
        wynikNapiwek = findViewById(R.id.textViewTipResult);
        wynikCalkowity = findViewById(R.id.textViewTotalResult);
        wynikNaOsobe = findViewById(R.id.textViewPerPerson);

        fifteen = findViewById(R.id.radio15);
        twenty = findViewById(R.id.radio20);
        twentyFive = findViewById(R.id.radio25);
        radioGroupTip = findViewById(R.id.radioGroupTip);
        switchRoundUp = findViewById(R.id.switchRoundUp);

        // TextWatcher do automatycznego przeliczania
        TextWatcher watcher = new TextWatcher() {
            @Override public void beforeTextChanged(CharSequence s, int start, int count, int after) {}
            @Override public void onTextChanged(CharSequence s, int start, int before, int count) { przelicz(); }
            @Override public void afterTextChanged(Editable s) {}
        };

        poleKwota.addTextChangedListener(watcher);
        customTip.addTextChangedListener(watcher);
        poleLiczbaOsob.addTextChangedListener(watcher);
//funkcja anonimowa
        radioGroupTip.setOnCheckedChangeListener((group, checkedId) -> przelicz());
        switchRoundUp.setOnCheckedChangeListener((buttonView, isChecked) -> przelicz());

        // EdgeToEdge padding
        View mainLayout = findViewById(R.id.main);
        ViewCompat.setOnApplyWindowInsetsListener(mainLayout, (v, insets) -> {
            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());
            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);
            return insets;
        });
    }

    private void przelicz() {
        String kwotaStr = poleKwota.getText().toString();
        if (kwotaStr.isEmpty()) {
            wynikNapiwek.setText("");
            wynikCalkowity.setText("");
            wynikNaOsobe.setText("");
            return;
        }

        double kwota;
        try { kwota = Double.parseDouble(kwotaStr); }
        catch (NumberFormatException e) {
            Toast.makeText(this, "Nieprawidłowa kwota", Toast.LENGTH_SHORT).show();
            return;
        }

        double procentNapiwku;
        String customStr = customTip.getText().toString();
        if (!customStr.isEmpty()) {
            try { procentNapiwku = Double.parseDouble(customStr); }
            catch (NumberFormatException e) {
                Toast.makeText(this, "Nieprawidłowy własny procent", Toast.LENGTH_SHORT).show();
                return;
            }
        } else if (fifteen.isChecked()) procentNapiwku = 15.0;
        else if (twenty.isChecked()) procentNapiwku = 20.0;
        else if (twentyFive.isChecked()) procentNapiwku = 25.0;
        else procentNapiwku = 0.0;

        double napiwek = kwota * procentNapiwku / 100.0;
        double calkowita = kwota + napiwek;

        if (switchRoundUp.isChecked()) {
            napiwek = Math.ceil(calkowita) - kwota;
            calkowita = Math.ceil(calkowita);
        }

        wynikNapiwek.setText(String.format("Kwota napiwku: %.2f zł", napiwek));
        wynikCalkowity.setText(String.format("Łączna kwota: %.2f zł", calkowita));

        String liczbaOsobStr = poleLiczbaOsob.getText().toString();
        if (!liczbaOsobStr.isEmpty()) {
            try {
                int liczbaOsob = Integer.parseInt(liczbaOsobStr);
                if (liczbaOsob <= 0) throw new NumberFormatException();
                double kwotaNaOsobe = calkowita / liczbaOsob;
                wynikNaOsobe.setText(String.format("Kwota na osobę: %.2f zł", kwotaNaOsobe));
            } catch (NumberFormatException e) {
                Toast.makeText(this, "Nieprawidłowa liczba osób", Toast.LENGTH_SHORT).show();
                wynikNaOsobe.setText("");
            }
        } else wynikNaOsobe.setText("");
    }
}


-----------------------color.xml-----------------------------
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <!-- Light mode -->
    <color name="primaryColor">#6200EE</color>
    <color name="primaryLightColor">#BB86FC</color>
    <color name="primaryDarkColor">#3700B3</color>
    <color name="colorSecondary">#03DAC5</color>
    <color name="textColorPrimary">#000000</color>
    <color name="textColorSecondary">#666666</color>
    <color name="backgroundColor">#FFF3E0</color>
    <color name="buttonColor">#6200EE</color>
    <color name="buttonTextColor">#FFFFFF</color>

    <!-- Night mode -->
    <color name="primaryColorNight">#BB86FC</color>
    <color name="primaryLightColorNight">#81C784</color>
    <color name="primaryDarkColorNight">#3700B3</color>
    <color name="colorSecondaryNight">#FFBB33</color>
    <color name="textColorPrimaryNight">#FFFFFF</color>
    <color name="textColorSecondaryNight">#AAAAAA</color>
    <color name="backgroundColorNight">#121212</color>
    <color name="buttonColorNight">#1976D2</color>
    <color name="buttonTextColorNight">#FFFFFF</color>
</resources>



----------------night/theme.xml------------------
<resources xmlns:tools="http://schemas.android.com/tools">
    <!-- Base application theme. -->
    <style name="Base.Theme.Projekt" parent="Theme.Material3.DayNight.NoActionBar">
        <!-- Kolory główne -->
        <item name="colorPrimary">@color/primaryColorNight</item>
        <item name="colorPrimaryVariant">@color/primaryDarkColorNight</item>
        <item name="colorOnPrimary">@color/buttonTextColorNight</item>

        <item name="colorSecondary">@color/colorSecondaryNight</item>

        <item name="colorOnSecondary">@color/buttonTextColorNight</item>

        <!-- Teksty -->
        <item name="android:textColorPrimary">@color/textColorPrimaryNight</item>
        <item name="android:textColorSecondary">@color/textColorSecondaryNight</item>

        <!-- Tło okna -->
        <item name="android:windowBackground">@color/backgroundColorNight</item>

        <!-- Styl przycisku -->
        <item name="buttonStyle">@style/ButtonStyle</item>
    </style>

    <!-- Styl przycisku -->
    <style name="ButtonStyle" parent="Widget.Material3.Button">
        <item name="android:backgroundTint">@color/buttonColorNight</item>
        <item name="android:textColor">@color/buttonTextColorNight</item>



        <item name="android:textColorPrimary">@color/textColorPrimaryNight</item>
        <item name="accentColor">@color/accentColorNight</item>

    </style>
</resources>
-----------------------------------------------




